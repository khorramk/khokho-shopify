<div>
    {% if section.settings.collection != nil %}
    <div>
        {% if section.settings.heading != nil %}
        <h2>{{ section.settings.heading }}</h2>
            
        {% endif %}
        {% if secttion.settings.image != nil %}
            <img src="{{ section.settings.image | image_url: width: 300 }}"/>
        {% endif %}
    </div>
    <div>{{ section.settings.collection.all_products_count}}</div>
    <ul>
        {% for item in section.settings.collection.products limit: 8 %}
            <li>
                <div>
                    <h2>{{ item.title }}</h2>
                    {%render 'product-info' with item as product %}
                </div>
            </li>
        {% endfor %}
    </ul>
    {% endif %}
    
</div>

{% schema %}
{
   "name": "Swimwear",
   "tag": "div",
   "settings": [
   {
   "type": "text",
   "id": "heading",
   "label": "Heading"
   },
   {
        "type": "collection",
        "id": "collection",
        "label": "Collection"
   },
  {
    "type": "image_picker",
    "id": "image",
    "label": "Image"
  }
   ]
}
{% endschema %}